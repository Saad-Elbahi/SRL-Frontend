{"version":3,"sources":["./src/app/main/projets/logistique/VehiculeMouvement/chauffeur/chauffeur.service.ts","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/affectation-affaire-chauffeur/affectation-affaire-chauffeur.component.ts","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/affectation-affaire-chauffeur/affectation-affaire-chauffeur.component.html","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/vehicule-gps-location.service.ts","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/vehicule-list/vehicule-list.component.ts","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/vehicule-list/vehicule-list.component.html","./src/app/main/projets/logistique/VehiculeMouvement/vehicule/vehicule.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAG6D;AACd;AAEQ;;;AAGvD;IASE,0BAAoB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAL9C,WAAM,GAAG,8EAAwB,CAAC;QAMxC,IAAI,CAAC,sBAAsB,GAAG,IAAI,iDAAe,CAAC,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,sBAAsB,GAAG,IAAI,iDAAe,CAAC,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,sBAAsB,GAAE,IAAI,iDAAe,CAAC,EAAE,CAAC,CAAC;IACvD,CAAC;IAGD,2CAAgB,GAAhB;QAAA,iBAUC;QATC,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,mBAAmB,CAAC;QAC9C,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC7B,KAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,SAAS,CAC7C,UAAC,IAAiB;gBAChB,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACvC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EAAE,MAAM,CAAC,CAAC;QACjB,CAAC,CACJ,CAAC;IACJ,CAAC;IAED,2CAAgB,GAAhB,UAAiB,EAAU;QACzB,aAAa;QACb,OAAO,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAI,IAAI,CAAC,MAAM,0BAAqB,EAAI,CAAC,CAAC;IACpF,CAAC;IAED;;;;;;;;IAQA;IAEA,0CAAe,GAAf,UAAgB,SAAoB,EAAE,IAAU;QAAhD,iBAgBC;QAdC,IAAM,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QAC1C,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC,CAAC,CAAC;QAClG,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAE9B,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,kBAAkB,CAAC;QAE7C,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC7B,KAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,GAAG,EAAC,QAAQ,CAAC,CAAC,SAAS,CACvD,UAAC,IAAiB;gBAChB,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACvC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EAAE,MAAM,CAAC,CAAC;QACjB,CAAC,CACJ,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;OAWG;IAEH,0CAAe,GAAf,UAAgB,EAAU,EAAE,SAAc,EAAE,IAAU;QAAtD,iBAiBC;QAfC,IAAM,QAAQ,GAAa,IAAI,QAAQ,EAAE,CAAC;QAC1C,QAAQ,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,kBAAkB,EAAE,CAAC,CAAC,CAAC;QAClG,IAAI,IAAI,EAAE;YACR,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;SAC1C;QACD,IAAM,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,mBAAmB,GAAC,EAAE,CAAC;QAEjD,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YAC7B,KAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,EAAC,QAAQ,CAAC,CAAC,SAAS,CACtD,UAAC,IAAiB;gBAChB,KAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACvC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,EAAE,MAAM,CAAC,CAAC;QACjB,CAAC,CACJ,CAAC;IACJ,CAAC;IAED,0CAAe,GAAf,UAAgB,EAAU;QACxB,aAAa;QACb,OAAO,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAU,IAAI,CAAC,MAAM,yBAAoB,EAAI,CAAC,CAAC,IAAI,CAC3F,0DAAU,CAAC,UAAC,KAAwB;YAClC,OAAO,CAAC,KAAK,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;YACxC,OAAO,gDAAU,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC,CAAC,CACL,CAAC;IACJ,CAAC;IACD,4CAAiB,GAAjB;QACE,aAAa;QACb,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAI,IAAI,CAAC,MAAM,YAAS,CAAC,CAAC;IACrE,CAAC;oFAtGU,gBAAgB;qHAAhB,gBAAgB,WAAhB,gBAAgB,mBAFf,MAAM;2BAVpB;CAqHC;AAzG4B;;;;;;;;;;;;;;;;;;;;;;;;;;ACAc;AACZ;;;;;;;;;AAG/B;IAoBE,8CACU,mBAAuC,EACvC,0BAAsD,EACtD,gBAAkC,EAClC,MAAc,EACd,MAAqB;QAJrB,wBAAmB,GAAnB,mBAAmB,CAAoB;QACvC,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,WAAM,GAAN,MAAM,CAAQ;QACd,WAAM,GAAN,MAAM,CAAe;QAhB/B,0BAAqB,GAAW,CAAC,CAAC;QAClC,iBAAY,GAAW,EAAE,CAAC;QAC1B,0BAA0B;QAC1B,cAAS,GAAW,GAAG,CAAC;QACxB,UAAK,GAAW,EAAE,CAAC;QACnB,gBAAW,GAAW,EAAE,CAAC;QACzB,WAAM,GAAW,EAAE,CAAC;QACpB,eAAU,GAAgB,EAAE,CAAC;QAW3B,IAAI,CAAC,eAAe,GAAG,IAAI,yCAAO,EAAE,CAAC;IACvC,CAAC;IAED,uDAAQ,GAAR;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,0DAAW,GAAX,UAAY,OAAsB;QAChC,IAAI,OAAO,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,EAAE;YACnD,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;YAC9D,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,IAAI,CAAC,CAAC;YACjE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,IAAI,EAAE,CAAC;YACpD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC;YACpD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,IAAI,GAAG,CAAC;YACvD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE,CAAC;YAC9C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,EAAE,CAAC;YAEhD,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;YAClE,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;YAChD,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YACxD,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAC1C,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,YAAY;YAC/C,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM;SACnD;IACH,CAAC;IAED,4DAAa,GAAb,UAAc,IAAY;QACxB,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC;IACjE,CAAC;IACD,gEAAiB,GAAjB;QAAA,iBAyCC;QAxCC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAChC,OAAO,CAAC,GAAG,CAAC;YACV,qBAAqB,EAAE,IAAI,CAAC,qBAAqB;YACjD,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,EAAE;YAClC,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,mCAAmC;SACzD,CAAC,CAAC;QAEH,IACE,IAAI,CAAC,qBAAqB;YAC1B,IAAI,CAAC,aAAa;YAClB,IAAI,CAAC,SAAS,KAAK,IAAI;YACvB,IAAI,CAAC,KAAK,KAAK,IAAI;YACnB,IAAI,CAAC,MAAM,KAAK,IAAI,EACpB;YACA,IAAI,CAAC,0BAA0B,CAAC,0BAA0B,CACtD,IAAI,CAAC,qBAAqB,EAC1B,IAAI,CAAC,aAAa,CAAC,EAAE,EACrB,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,MAAM,CAAC,aAAa;aAC1B;iBACA,IAAI,CACH;gBACE,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;gBACvC,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC;oBAChE,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,2CAA2C,CAAC,CAAC,CAAC;gBACtE,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,aAAa,CAAC,yBAAyB,CAAC,CAAC;YAChD,CAAC,EACD,UAAC,KAAK;gBACJ,OAAO,CAAC,KAAK,CAAC,oBAAoB,EAAE,KAAK,CAAC,CAAC;YAC7C,CAAC,CACF,CAAC;SACL;aAAM;YACL,OAAO,CAAC,KAAK,CAAC,qCAAqC,CAAC,CAAC;SACtD;IACH,CAAC;IAED,4DAAa,GAAb;QACE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,qCAAqC,EAAE,UAAU,EAAE;YACrE,UAAU,EAAE,kBAAkB;YAC9B,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IACL,CAAC;IAEO,6DAAc,GAAtB;QAAA,iBAYC;QAXC,IAAI,CAAC,gBAAgB,CAAC,sBAAsB;aACzC,IAAI,CAAC,yDAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACrC,SAAS,CACR,UAAC,IAAI;YACH,KAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACzB,CAAC,EACD,UAAC,KAAK;YACJ,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,KAAK,CAAC,CAAC;QACrD,CAAC,CACF,CAAC;QACJ,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,CAAC;IAC3C,CAAC;4HAjHU,oCAAoC;sIAApC,oCAAoC;YCtBjD,yEAA8B;YAC1B,yEAAuE;YACnE,yEAA0B;YACtB,6EAAwE;YACpE,4EACuD;YAAnD,4JAAS,kBAAc,yBAAyB,CAAC,IAAC;YAAC,iEAAC;YAAA,4DAAS;YACjE,yEAA+B;YAC3B,wEAA+C;YAAA,4EAAiB;YAAA,4DAAK;YACzE,4DAAM;YACN,0EAAoC;YAEhC,0EAAwB;YACpB,6EAA6C;YAAA,oEAAQ;YAAA,4DAAQ;YAC7D,6EAC+D;YAAvC,+MAA0B;YADlD,4DAC+D;YACnE,4DAAM;YAGN,0EAAwB;YACpB,6EAA8C;YAAA,0EAAc;YAAA,4DAAQ;YACpE,6EACwD;YAA/B,wMAAmB;YAD5C,4DACwD;YAC5D,4DAAM;YAGN,0EAAwB;YACpB,6EAA+C;YAAA,yEAAa;YAAA,4DAAQ;YACpE,6EAC0D;YAAhC,yMAAoB;YAD9C,4DAC0D;YAC9D,4DAAM;YAEN,0EAAwB;YAUpB,6EAAyB;YAAA,qEAAS;YAAA,4DAAQ;YAC1C,+EAA6B;YACzB,iFAMyB;YAFjB,oNAA2B;YAGnC,4DAAY;YAChB,4DAAW;YACf,4DAAM;YAGN,0EAAwB;YACpB,6EAA0C;YAAA,uEAAW;YAAA,4DAAQ;YAC7D,6EACoE;YAA/C,4MAAuB;YAD5C,4DACoE;YACxE,4DAAM;YAKN,8EAA4E;YAA9B,6JAAS,uBAAmB,IAAC;YAAC,uEAAW;YAAA,4DAAS;YAChG,8EACuD;YAAnD,6JAAS,kBAAc,yBAAyB,CAAC,IAAC;YAAC,mEAAO;YAAA,4DAAS;YAC3E,4DAAM;YACV,4DAAO;YACX,4DAAM;YACV,4DAAM;YACV,4DAAM;;YAzD0C,2DAA0B;YAA1B,qFAA0B;YAOzB,0DAAmB;YAAnB,8EAAmB;YAOlB,0DAAoB;YAApB,+EAAoB;YAiBlC,0DAAmB;YAAnB,4EAAmB;YAaV,0DAAuB;YAAvB,kFAAuB;;+CD1DpE;CAwIC;AAlHgD;;;;;;;;;;;;;;;;;;;;;;;AEpBM;AACQ;AACd;;;AAEjD;IAME,oCAAoB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;QACpD,aAAa;QACb,IAAI,CAAC,qBAAqB,GAAG,IAAI,iDAAe,EAAO,CAAC;IAC1D,CAAC;IAED,sDAAiB,GAAjB;QAAA,iBAQC;QAPC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACjC,IAAI,GAAG,GAAG,0EAAoB,GAAG,oBAAoB,CAAC;YACtD,KAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,UAAC,QAAe;gBAChE,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1C,OAAO,CAAC,QAAQ,CAAC,CAAC;YACpB,CAAC,EAAE,MAAM,CAAC,CAAC;QACb,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wDAAmB,GAAnB;QAAA,iBAQC;QAPC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACjC,IAAI,GAAG,GAAG,0EAAoB,GAAG,sBAAsB,CAAC;YACxD,KAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,UAAC,QAAe;gBAChE,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1C,OAAO,CAAC,QAAQ,CAAC,CAAC;YACpB,CAAC,EAAE,MAAM,CAAC,CAAC;QACb,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qDAAgB,GAAhB;QACE,OAAO,IAAI,CAAC,gBAAgB,CAAC,YAAY,CACpC,0EAAoB,oBAAiB,CACzC,CAAC;IACJ,CAAC;IAED,+DAA0B,GAA1B,UACE,EAAU,EACV,WAAmB,EACnB,SAAiB,EACjB,KAAa,EACb,IAAY,EACZ,MAAc;QANhB,iBA0BC;QAlBC,IAAI,GAAG,GAAG,0EAAoB,GAAG,6BAA6B,CAAC;QAC/D,IAAM,IAAI,GAAG;YACX,UAAU,EAAE,EAAE;YACd,WAAW,EAAE,WAAW;YACxB,SAAS,EAAE,SAAS;YACpB,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,IAAI;YACV,MAAM,EAAE,MAAM;SACf,CAAC;QAEF,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;YACjC,KAAI,CAAC,gBAAgB;iBAClB,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC;iBACxB,SAAS,CAAC,UAAC,QAAe;gBACzB,KAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAC1C,OAAO,CAAC,QAAQ,CAAC,CAAC;YACpB,CAAC,EAAE,MAAM,CAAC,CAAC;QACf,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mDAAc,GAAd,UAAe,EAAU;QAAzB,iBAeD;QAdG,IAAI,CAAC,EAAE,EAAE;YACL,OAAO,CAAC,KAAK,CAAC,4CAA4C,EAAE,EAAE,CAAC,CAAC;YAChE,OAAO,gDAAU,CAAC,cAAM,WAAI,KAAK,CAAC,oBAAoB,CAAC,EAA/B,CAA+B,CAAC,CAAC;SAC5D;QAED,IAAM,GAAG,GAAM,0EAAoB,wBAAmB,EAAI,CAAC;QAE3D,OAAO,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI,CAClD,mDAAG,CAAC,UAAC,QAAQ,IAAK,YAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAzC,CAAyC,CAAC,EAC5D,0DAAU,CAAC,UAAC,KAAK;YACb,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;YACtE,OAAO,gDAAU,CAAC,cAAM,WAAI,KAAK,CAAC,KAAK,CAAC,OAAO,IAAI,wBAAwB,CAAC,EAApD,CAAoD,CAAC,CAAC;QAClF,CAAC,CAAC,CACL,CAAC;IACN,CAAC;wGA7EY,0BAA0B;+HAA1B,0BAA0B,WAA1B,0BAA0B,mBAFzB,MAAM;qCAPpB;CAwFC;AA/EsC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTgC;AAIxC;AACU;AACZ;AACY;;;;;;;;;;;;;;;;ICkDb,0EAAuC;IACnC,0EAA8B;IAC1B,wEAA0F;IAAtF,0WAAuB,yBAAyB,aAAO;IACvD,2EAA+B;IAAA,uDAAU;IAAA,4DAAO;IACpD,4DAAI;IACR,4DAAM;IACV,4DAAM;;;IAHqC,0DAAU;IAAV,wEAAU;;;IAUrD,uDACJ;;;;IADI,kKACJ;;;;IAKI,0EAAkC;IAC9B,6EAA4F;IACxF,sEAAyE;IAC7E,4DAAS;IACT,0EAAqB;IACjB,wEAA2E;IAAxE,6WAAuB,yBAAyB,aAAO;IACtD,sEAA+C;IAAC,qEACpD;IAAA,4DAAI;IACJ,wEAAgG;IAAzD,gYAAuC,2BAAgB,IAAC;IAC3F,sEAAgD;IAAC,sEACrD;IAAA,4DAAI;IACR,4DAAM;IACV,4DAAM;;IAVyC,0DAA0B;IAA1B,0EAA0B;IAA3D,yFAAgC;;ADlE1E;IAmBI,+BACY,mBAAuC,EACvC,0BAAsD,EACtD,MAAqB,EACrB,MAAc;QAHd,wBAAmB,GAAnB,mBAAmB,CAAoB;QACvC,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,WAAM,GAAN,MAAM,CAAe;QACrB,WAAM,GAAN,MAAM,CAAQ;QAhBnB,SAAI,GAA2B,EAAE,CAAC;QAClC,aAAQ,GAA2B,EAAE,CAAC;QAE7C,mBAAc,GAAU,EAAE,CAAC;QACpB,gBAAW,GAAG,EAAE,CAAC;QACjB,eAAU,GAAG,+DAAU,CAAC;QAa3B,IAAI,CAAC,eAAe,GAAG,IAAI,0CAAO,EAAE,CAAC;IAEzC,CAAC;IAED,wCAAQ,GAAR;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,kDAAe,EAAE,CAAC;IACtB,CAAC;IAED,4CAAY,GAAZ;QAAA,iBAwBC;QAvBG,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,CAAC,IAAI,CAAC,0DAAS,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,CACjG,aAAG;YACC,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;gBACvB,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC;gBAChB,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC;aAC7B;QACL,CAAC,EAAE,eAAK;YACJ,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,KAAK,CAAC,CAAC;QACrD,CAAC,CACJ;QAED,IAAI,CAAC,0BAA0B,CAAC,iBAAiB,EAAE,CAAC;QAEpD;;;;;;;;YAQI;IAER,CAAC;IAED,8CAAc,GAAd;QAAA,iBAQC;QAPG,IAAI,CAAC,0BAA0B,CAAC,mBAAmB,EAAE,CAAC,IAAI,CAAC;YACvD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,8BAA8B,CAAC,CAAC;YACpD,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC;YAC9B;;iBAEK;QACT,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4CAAY,GAAZ,UAAa,KAAK;QACd,IAAM,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAC7C,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,CAAC;YACzC,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;QAC5D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IAC1B,CAAC;IAGD,6CAAa,GAAb,UAAc,IAAY,EAAE,OAAa;QACrC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACrB,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC;IACnE,CAAC;IAED,oDAAoB,GAApB,UAAqB,EAAU;QAA/B,iBA+BC;QA9BG,IAAI,CAAC,EAAE,EAAE;YACL,OAAO,CAAC,KAAK,CAAC,0BAA0B,EAAE,EAAE,CAAC,CAAC;YAC9C,OAAO,CAAC,uDAAuD;SAClE;QAED,uDAAS,CAAC;YACN,KAAK,EAAE,oBAAoB;YAC3B,IAAI,EAAE,4CAA4C;YAClD,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,qBAAqB;YACxC,gBAAgB,EAAE,gBAAgB;YAClC,WAAW,EAAE;gBACT,aAAa,EAAE,iBAAiB;gBAChC,YAAY,EAAE,qBAAqB;aACtC;SACJ,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YACX,IAAI,MAAM,CAAC,WAAW,EAAE;gBACpB,KAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;aAC3B;iBAAM,IAAI,MAAM,CAAC,OAAO,KAAK,yEAAyB,EAAE;gBACrD,uDAAS,CAAC;oBACN,KAAK,EAAE,YAAY;oBACnB,IAAI,EAAE,mCAAmC;oBACzC,IAAI,EAAE,OAAO;oBACb,WAAW,EAAE;wBACT,aAAa,EAAE,iBAAiB;qBACnC;iBACJ,CAAC,CAAC;aACN;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8CAAc,GAAd,UAAe,EAAU;QACrB,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC;YACzD,IAAI,EAAE,UAAC,QAAQ;gBACX,sDAAsD;gBACtD,uDAAS,CAAC;oBACN,KAAK,EAAE,YAAY;oBACnB,IAAI,EAAE,6BAA6B;oBACnC,IAAI,EAAE,SAAS;oBACf,WAAW,EAAE;wBACT,aAAa,EAAE,iBAAiB;qBACnC;iBACJ,CAAC,CAAC;YACP,CAAC;YACD,KAAK,EAAE,UAAC,KAAK;gBACT,uDAAS,CAAC;oBACN,KAAK,EAAE,UAAU;oBACjB,IAAI,EAAE,uEAAgE,KAAK,CAAC,MAAM,YAAM,KAAK,CAAC,OAAO,IAAI,iBAAiB,CAAE;oBAC5H,IAAI,EAAE,OAAO;oBACb,WAAW,EAAE;wBACT,aAAa,EAAE,gBAAgB;qBAClC;iBACJ,CAAC,CAAC;gBACH,OAAO,CAAC,KAAK,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC,CAAC,uCAAuC;YAC5F,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;8FA1IQ,qBAAqB;uHAArB,qBAAqB;sEAWnB,uEAAkB;;;;;YC7BjC,yEAA6B;YACzB,yEAA0B;YACtB,yEAAkB;YAElB,6EAAuC;YACnC,yEAAoB;YAChB,wEAAiB;YACb,qEAAkC;YACtC,4DAAK;YACT,4DAAM;YACN,yEAAoB;YAChB,wEAAiB;YACb,kEAAkE;YAClE,2EAA2B;YAAC,2EAAc;YAAA,4DAAO;YACrD,4DAAK;YACT,4DAAM;YACF,0EAAoB;YAChB,yEAAiB;YACb,sEAAmC;YACvC,4DAAK;YACT,4DAAM;YACN,0EAAiB;YACb,0EAA0B;YACtB,8EAA8E;YAAxC,8IAAS,oBAAgB,IAAC;YAC5D,oEAAgD;YAChD,4EAAuC;YAAA,6EAAiB;YAAA,4DAAO;YACnE,4DAAS;YACb,4DAAM;YACN,2EAA6B;YACzB,2EAAmE;YAC/D,6EAAyC;YACrC,kEACA;YAAA,8EAAgE;YAA7B,mMAA4B;YAC3D,8EAAmB;YAAA,8DAAE;YAAA,4DAAS;YAC9B,8EAAmB;YAAA,8DAAE;YAAA,4DAAS;YAC9B,8EAAmB;YAAA,8DAAE;YAAA,4DAAS;YAC9B,8EAAoB;YAAA,+DAAG;YAAA,4DAAS;YACpC,4DAAS;YACT,qEACJ;YAAA,4DAAQ;YACZ,4DAAM;YACV,4DAAM;YACN,2EAAiF;YAC7E,2EAA6E;YACzE,6EAAsD;YAClD,wEAAW;YAAA,6EACuE;YADhE,+LAAyB,2FAChB,wBAAoB,IADJ,6FACgB,wBAAoB,IADpC;YAAhC,4DACuE;YACtF,4DAAQ;YAEZ,4DAAM;YACV,4DAAM;YACV,4DAAM;YAEN,qFAC2G;YACvG,4FAAgE;YAC5D,oIAQc;YAClB,4DAAuB;YACvB,uFAA8F;YAC9F,uFAAqF;YACrF,4FAAsE;YAClE,oIAEc;YAClB,4DAAuB;YACvB,uFAAkG;YAClG,4FAAqE;YACjE,qIAcc;YAClB,4DAAuB;YAC3B,4DAAgB;YACxB,4DAAU;YAEd,4DAAM;YAGN,oFAC4C;YAExC,oGAEoC;YACxC,4DAAe;YAEnB,4DAAM;YAzGN,4DAA6B;;YAgCsC,2DAA4B;YAA5B,uFAA4B;YAa7C,2DAAyB;YAAzB,oFAAyB;YAQ5C,0DAAa;YAAb,0EAAa;YAE0B,0DAAa;YAAb,sEAAa;YAWN,0DAAa;YAAb,sEAAa;YACtB,0DAAa;YAAb,sEAAa;YACL,0DAAa;YAAb,sEAAa;YAKR,0DAAa;YAAb,sEAAa;YACrC,0DAAY;YAAZ,qEAAY;YA0B1B,0DAAmC;YAAnC,gGAAmC;;gCDpG9E;CA8JC;AA5IiC;;;;;;;;;;;;;;;;;;;;;;;;;;;AElBqB;AACyB;AAC+C;AAChF;AACc;AAChB;AACQ;AACE;AACQ;AACT;;;AAKtD,IAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,eAAe;QACrB,SAAS,EAAE,yFAAqB;KACnC;IACD;QACI,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,wIAAoC;KAClD;CACJ,CAAC;AAGF;IAAA;KAgB+B;gFAAlB,cAAc;+GAAd,cAAc;mHAXd;gBACL,yDAAY;gBACZ,uEAAkB;gBAClB,kEAAqB,CAAC,MAAM,CAAC;gBAC7B,uDAAW;gBACX,+DAAiB;gBACjB,iEAAgB;gBAChB,yEAAiB;gBACjB,iEAAc;aACjB;yBAxCL;CA0C+B;AAAJ;mIAAd,cAAc,mBAdvB,yFAAqB;QACrB,wIAAoC,aAGhC,yDAAY;QACZ,uEAAkB,6DAElB,uDAAW;QACX,+DAAiB;QACjB,iEAAgB;QAChB,yEAAiB;QACjB,iEAAc","file":"src_app_main_projets_logistique_VehiculeMouvement_vehicule_vehicule_module_ts.js","sourcesContent":["import {HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {Chauffeur} from '../models/chauffeur';\nimport {BehaviorSubject, Observable, throwError} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {Fournisseur} from \"../models/fournisseur\";\nimport { environment } from 'environments/environment';\nimport { SrManagerService } from 'app/main/projets/sr-manager.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ChauffeurService {\n  private apiUrl = environment.chauffeurapi;\n  public onChauffeurListChanged: BehaviorSubject<any>;\n  public onChauffeurViewChanged: BehaviorSubject<any>;\n  public onChauffeurEditChanged: BehaviorSubject<any>;\n\n  constructor(private srManagerService: SrManagerService) {\n    this.onChauffeurListChanged = new BehaviorSubject({});\n    this.onChauffeurViewChanged = new BehaviorSubject({});\n    this.onChauffeurEditChanged= new BehaviorSubject({});\n  }\n\n\n  getAllChauffeurs(): Promise<Chauffeur[]> {\n    const url = this.apiUrl + \"/getAllChauffeurs\";\n    return new Promise((resolve, reject) => {\n          this.srManagerService.getResources(url).subscribe(\n              (data: Chauffeur[]) => {\n                this.onChauffeurListChanged.next(data);\n                resolve(data);\n              }, reject);\n        }\n    );\n  }\n\n  getChauffeurById(id: number): Observable<Chauffeur> {\n    // @ts-ignore\n    return this.srManagerService.getResource(`${this.apiUrl}/getChauffeurById/${id}`);\n  }\n\n  /*createChauffeur(chauffeur: Chauffeur, file: File): Observable<Chauffeur> {\n    const formData: FormData = new FormData();\n    formData.append('chauffeur', new Blob([JSON.stringify(chauffeur)], { type: 'application/json' }));\n    formData.append('file', file);\n\n    // @ts-ignore\n    return this.srManagerService.postRessource(`${this.apiUrl}/createChauffeur`, formData);\n  }\n*/\n\n  createChauffeur(chauffeur: Chauffeur, file: File): Promise<Chauffeur[]> {\n\n    const formData: FormData = new FormData();\n    formData.append('chauffeur', new Blob([JSON.stringify(chauffeur)], { type: 'application/json' }));\n    formData.append('file', file);\n\n    const url = this.apiUrl + \"/createChauffeur\";\n\n    return new Promise((resolve, reject) => {\n          this.srManagerService.postRessource(url,formData).subscribe(\n              (data: Chauffeur[]) => {\n                this.onChauffeurListChanged.next(data);\n                resolve(data);\n              }, reject);\n        }\n    );\n  }\n\n  /*updateChauffeur(id: number, chauffeur: any, file: File): Observable<any> {\n    const formData: FormData = new FormData();\n    formData.append('chauffeur', new Blob([JSON.stringify(chauffeur)], { type: 'application/json' }));\n    if (file) {\n      formData.append('file', file, file.name);\n    }\n\n    console.log(formData)\n    return this.srManagerService.putRessource(`${this.apiUrl}/updateChauffeur/${id}`, formData);\n\n\n  }*/\n\n  updateChauffeur(id: number, chauffeur: any, file: File): Promise<Chauffeur[]> {\n\n    const formData: FormData = new FormData();\n    formData.append('chauffeur', new Blob([JSON.stringify(chauffeur)], { type: 'application/json' }));\n    if (file) {\n      formData.append('file', file, file.name);\n    }\n    const url = this.apiUrl + \"/updateChauffeur/\"+id;\n\n    return new Promise((resolve, reject) => {\n          this.srManagerService.putRessource(url,formData).subscribe(\n              (data: Chauffeur[]) => {\n                this.onChauffeurListChanged.next(data);\n                resolve(data);\n              }, reject);\n        }\n    );\n  }\n\n  deleteChauffeur(id: number): Observable<void> {\n    // @ts-ignore\n    return this.srManagerService.deleteRessource<void>(`${this.apiUrl}/deleteChauffeur/${id}`).pipe(\n        catchError((error: HttpErrorResponse) => {\n          console.error('Error occurred:', error);\n          return throwError(error);\n        })\n    );\n  }\n  getChauffeurCount(){\n    // @ts-ignore\n    return this.srManagerService.getResources(`${this.apiUrl}/getAll`);\n  }\n\n\n}\n","import {\n  Component,\n  Input,\n  OnInit,\n  SimpleChanges,\n  ViewEncapsulation,\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { VehiculeGpsLocationService } from \"../vehicule-gps-location.service\";\nimport { ChauffeurService } from \"../../chauffeur/chauffeur.service\";\nimport { Chauffeur } from \"../../models/chauffeur\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { Subject } from \"rxjs\";\nimport { CoreSidebarService } from \"@core/components/core-sidebar/core-sidebar.service\";\n\n@Component({\n  selector: \"app-affectation-affaire-chauffeur\",\n  templateUrl: \"./affectation-affaire-chauffeur.component.html\",\n  styleUrls: [\"./affectation-affaire-chauffeur.component.scss\"],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class AffectationAffaireChauffeurComponent implements OnInit {\n  @Input() selectedVehicle: any;\n\n  vehiculeGpsLocationId: number = 0;\n  vehiculeName: string = \"\";\n  //chauffeurId: number = 0;\n  costPerKm: number = 0.0;\n  model: string = \"\"; \n  plateNumber: string = \"\"; \n  device: string = \"\";\n  chauffeurs: Chauffeur[] = [];\n  private _unsubscribeAll: Subject<any>;\n  selectedDrive: Chauffeur;\n\n  constructor(\n    private _coreSidebarService: CoreSidebarService,\n    private vehiculeGpsLocationService: VehiculeGpsLocationService,\n    private chauffeurService: ChauffeurService,\n    private router: Router,\n    private toastr: ToastrService\n  ) {\n    this._unsubscribeAll = new Subject();\n  }\n\n  ngOnInit(): void {\n    this.loadChauffeurs();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.selectedVehicle && this.selectedVehicle) {\n      console.log(\"selectedVehicle changed:\", this.selectedVehicle);\n      this.vehiculeGpsLocationId = this.selectedVehicle.vehicleId || 0;\n      this.vehiculeName = this.selectedVehicle.name || \"\";\n      this.selectedDrive = this.selectedVehicle.chauffeur;\n      this.costPerKm = this.selectedVehicle.costPerKm || 0.0;\n      this.model = this.selectedVehicle.model || \"\"; \n      this.device = this.selectedVehicle.device || \"\";\n\n      console.log(\"vehiculeGpsLocationId:\", this.vehiculeGpsLocationId);\n      console.log(\"vehiculeName:\", this.vehiculeName);\n      console.log(\"chauffeur name:\", this.selectedDrive.name);\n      console.log(\"costPerKm:\", this.costPerKm);\n      console.log(\"model:\", this.model); // Log model\n      console.log(\"Code Vehicule:\", this.device); // Log\n    }\n  }\n\n  toggleSidebar(name: string): void {\n    console.log(\"Toggling sidebar:\", name);\n    this._coreSidebarService.getSidebarRegistry(name).toggleOpen();\n  }\n  submitAssociation(): void {\n    console.log(\"Request Payload:\");\n    console.log({\n      vehiculeGpsLocationId: this.vehiculeGpsLocationId,\n      chauffeurId: this.selectedDrive.id,\n      costPerKm: this.costPerKm,\n      model: this.model,\n      device: this.device, // Ensure 'device' field is correct\n    });\n  \n    if (\n      this.vehiculeGpsLocationId &&\n      this.selectedDrive &&\n      this.costPerKm !== null &&\n      this.model !== null &&\n      this.device !== null\n    ) {\n      this.vehiculeGpsLocationService.associateChauffeurAndPrice(\n          this.vehiculeGpsLocationId,\n          this.selectedDrive.id,\n          this.costPerKm,\n          this.model,\n          this.vehiculeName,\n          this.device // Use device\n        )\n        .then(\n          () => {\n            console.log(\"Association successful!\");\n            this.toastrSuccess();\n            this.router.navigateByUrl(\"/\", { skipLocationChange: true }).then(() => {\n              this.router.navigate([\"projets/logistique/vehicule/vehicule-list\"]);\n            });\n            this.toggleSidebar(\"new-affectation-sidebar\");\n          },\n          (error) => {\n            console.error(\"Error associating:\", error);\n          }\n        );\n    } else {\n      console.error(\"Please fill in all required fields.\");\n    }\n  }\n  \n  toastrSuccess() {\n    this.toastr.success(\"Association completed successfully.\", \"Success!\", {\n      toastClass: \"toast ngx-toastr\",\n      closeButton: true,\n    });\n  }\n\n  private loadChauffeurs(): void {\n    this.chauffeurService.onChauffeurListChanged\n      .pipe(takeUntil(this._unsubscribeAll))\n      .subscribe(\n        (data) => {\n          this.chauffeurs = data;\n        },\n        (error) => {\n          console.error(\"Error fetching chauffeurs:\", error);\n        }\n      );\n    this.chauffeurService.getAllChauffeurs();\n  }\n}\n","<div class=\"slideout-content\">\n    <div class=\"modal-slide-in sdfade new-user-modal\" id=\"modals-slide-in\">\n        <div class=\"modal-dialog\">\n            <form class=\"add-new-user modal-content pt-0\" #associationForm=\"ngForm\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"\n                    (click)=\"toggleSidebar('new-affectation-sidebar')\">×</button>\n                <div class=\"modal-header mb-1\">\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">Chauffeur et Cout</h5>\n                </div>\n                <div class=\"modal-body flex-grow-1\">\n                    <!-- Vehicle Name -->\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"vehiculeName\">Vehicule</label>\n                        <input type=\"text\" class=\"form-control\" id=\"vehiculeName\" placeholder=\"Vehicle Name\"\n                            name=\"vehiculeName\" [(ngModel)]=\"vehiculeName\" required  />\n                    </div>\n                    <!--readonly-->\n                    <!-- Vehicle Model -->\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"vehiculeModel\">Vehicule Model</label>\n                        <input type=\"text\" class=\"form-control\" id=\"vehiculeModel\" placeholder=\"Vehicule Model\"\n                            name=\"vehiculeModel\" [(ngModel)]=\"model\" required />\n                    </div>\n\n                    <!-- Vehicle Plate Number -->\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"vehiculeDevice\">Code Vehicule</label>\n                        <input type=\"text\" class=\"form-control\" id=\"vehiculeDevice\" placeholder=\"Code Vehicule \"\n                            name=\"vehiculeDevice\" [(ngModel)]=\"device\" required />\n                    </div>\n                    <!-- Chauffeur -->\n                    <div class=\"form-group\">\n                        <!--<label class=\"form-label\" for=\"chauffeurId\">Chauffeur</label>\n                        <select class=\"form-control\" id=\"chauffeurId\" name=\"chauffeurId\" [(ngModel)]=\"chauffeurId\"\n                            required>\n                            <option *ngFor=\"let chauffeur of chauffeurs\" [value]=\"chauffeur.id\">\n                                {{ chauffeur.name }}\n                            </option>\n                        </select>-->\n\n\n                        <label for=\"chauffeurId\">Chauffeur</label>\n                        <fieldset class=\"form-group\">\n                            <ng-select\n                                    id=\"chauffeurId\"\n                                    [clearable]=\"false\"\n                                    [items]=\"chauffeurs\"\n                                    [(ngModel)]=\"selectedDrive\"\n                                    name=\"chauffeurs\"\n                                    bindLabel=\"name\">\n                            </ng-select>\n                        </fieldset>\n                    </div>\n\n                    <!-- Cost Per KM -->\n                    <div class=\"form-group\">\n                        <label class=\"form-label\" for=\"costPerKm\">Cout par km</label>\n                        <input type=\"number\" class=\"form-control\" id=\"costPerKm\" placeholder=\"Cost per km\"\n                            name=\"costPerKm\" [(ngModel)]=\"costPerKm\" required step=\"0.01\" />\n                    </div>\n\n\n                  \n                    <!-- Submit Button -->\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"submitAssociation()\">Sauvegarder</button>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" data-dismiss=\"modal\"\n                        (click)=\"toggleSidebar('new-affectation-sidebar')\">Annuler</button>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>\n","import { Injectable } from \"@angular/core\";\nimport { SrManagerService } from \"app/main/projets/sr-manager.service\";\nimport { environment } from \"environments/environment\";\nimport { BehaviorSubject, Observable, throwError } from \"rxjs\";\nimport { catchError, tap } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class VehiculeGpsLocationService {\n  public onVehiculeListChanged: BehaviorSubject<any>;\n\n  constructor(private srManagerService: SrManagerService) {\n    // @ts-ignore\n    this.onVehiculeListChanged = new BehaviorSubject<any>();\n  }\n\n  getAllVehiculeGps(): Promise<any[]> {\n    return new Promise((resolve, reject) => {\n      let url = environment.vhgpsapi + \"/getAllVehiculeGps\";\n      this.srManagerService.getResources(url).subscribe((response: any[]) => {\n        this.onVehiculeListChanged.next(response);\n        resolve(response);\n      }, reject);\n    });\n  }\n\n  saveVehiculeFromApi(): Promise<any[]> {\n    return new Promise((resolve, reject) => {\n      let url = environment.vhgpsapi + \"/saveVehiculeFromApi\";\n      this.srManagerService.getResources(url).subscribe((response: any[]) => {\n        this.onVehiculeListChanged.next(response);\n        resolve(response);\n      }, reject);\n    });\n  }\n\n  getVehiculeCount() {\n    return this.srManagerService.getResources(\n      `${environment.vhgpsapi}/getVehiculeGps`\n    );\n  }\n\n  associateChauffeurAndPrice(\n    id: number,\n    chauffeurId: number,\n    costPerKm: number,\n    model: string,\n    name: string,\n    device: string\n  ): Promise<any[]> {\n    let url = environment.vhgpsapi + \"/associateChauffeurAndPrice\";\n    const body = {\n      vehiculeId: id,\n      chauffeurId: chauffeurId,\n      costPerKm: costPerKm,\n      model: model, \n      name: name,\n      device: device,\n    };\n\n    return new Promise((resolve, reject) => {\n      this.srManagerService\n        .postRessource(url, body)\n        .subscribe((response: any[]) => {\n          this.onVehiculeListChanged.next(response);\n          resolve(response);\n        }, reject);\n    });\n  }\n\n  deleteVehicule(id: number): Observable<any> {\n    if (!id) {\n        console.error('Cannot delete vehicle. Invalid vehicle ID:', id);\n        return throwError(() => new Error('Invalid vehicle ID'));\n    }\n\n    const url = `${environment.vhgpsapi}/deleteVehicule/${id}`;\n    \n    return this.srManagerService.deleteRessource(url).pipe(\n        tap((response) => this.onVehiculeListChanged.next(response)),\n        catchError((error) => {\n            console.error('Error deleting vehicle:', error.status, error.message);\n            return throwError(() => new Error(error.message || 'Error deleting vehicle'));\n        })\n    );\n}\n\n}\n\n\n\n\n","import {ColumnMode, DatatableComponent} from '@swimlane/ngx-datatable';\nimport {Component, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\nimport {VehiculeGpsLocation} from '../../models/vehicule-gps-location';\nimport {VehiculeGpsLocationService} from '../vehicule-gps-location.service';\nimport Swal from 'sweetalert2';\nimport {takeUntil} from 'rxjs/operators';\nimport {Subject} from 'rxjs';\nimport * as feather from 'feather-icons';\nimport {ToastrService} from 'ngx-toastr';\nimport {Router} from '@angular/router';\nimport { CoreSidebarService } from '@core/components/core-sidebar/core-sidebar.service';\n\n@Component({\n    selector: 'app-vehicule-list',\n    templateUrl: './vehicule-list.component.html',\n    styleUrls: ['./vehicule-list.component.scss'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class VehiculeListComponent implements OnInit {\n    public rows: VehiculeGpsLocation [] = [];\n    public tempData: VehiculeGpsLocation [] = [];\n\n    selectedOption:number = 15;\n    public searchValue = '';\n    public ColumnMode = ColumnMode;\n    selectedVehicle: any;\n\n    private _unsubscribeAll: Subject<any>;\n\n    @ViewChild(DatatableComponent) table: DatatableComponent;\n\n    constructor(\n        private _coreSidebarService: CoreSidebarService,\n        private vehiculeGpsLocationService: VehiculeGpsLocationService,\n        private toastr: ToastrService,\n        private router: Router,\n    ) {\n        this._unsubscribeAll = new Subject();\n\n    }\n\n    ngOnInit(): void {\n        this.loadVehicles();\n        feather.replace();\n    }\n\n    loadVehicles(): void {\n        this.vehiculeGpsLocationService.onVehiculeListChanged.pipe(takeUntil(this._unsubscribeAll)).subscribe(\n            rep => {\n                if (rep && rep.length > 0) {\n                    this.rows = rep;\n                    this.tempData = this.rows;\n                }\n            }, error => {\n                console.error('Error fetching vehicles:', error);\n            }\n        )\n\n        this.vehiculeGpsLocationService.getAllVehiculeGps();\n\n        /*this.vehiculeGpsLocationService.getAllVehicule().subscribe(\n          (vehicles) => {\n            this.rows = vehicles;\n            this.tempData = this.rows;\n          },\n          (error) => {\n            console.error('Error fetching vehicles:', error);\n          }\n        );*/\n\n    }\n\n    addNewVehicule(): void {\n        this.vehiculeGpsLocationService.saveVehiculeFromApi().then(() => {\n            this.toastr.success('Vehicule added successfully!');\n            console.log(\"vehicule added \")\n            /*this.router.navigateByUrl('/', { skipLocationChange: true }).then(() => {\n              this.router.navigate([\"projets/mouvementVh/dashboardM\"]);\n            });*/\n        });\n    }\n\n    filterUpdate(event): void {\n        const val = event.target.value.toLowerCase();\n        const temp = this.tempData.filter(function (d) {\n            return d.name.toLowerCase().indexOf(val) !== -1 || !val;\n        });\n        this.rows = temp;\n        this.table.offset = 0;\n    }\n\n\n    toggleSidebar(name: string, vehicle?: any): void {\n        this.selectedVehicle = vehicle;\n        console.log(vehicle);\n        this._coreSidebarService.getSidebarRegistry(name).toggleOpen();\n    }\n\n    confirmDeleteVehicle(id: number): void {\n        if (!id) {\n            console.error('ID de véhicule invalide:', id);\n            return; // Quitter si l'ID du véhicule est indéfini ou invalide\n        }\n    \n        Swal.fire({\n            title: 'Êtes-vous sûr(e) ?',\n            text: \"Vous ne pourrez pas annuler cette action !\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Oui, supprimez-le !',\n            cancelButtonText: 'Non, annuler !',\n            customClass: {\n                confirmButton: 'btn btn-primary',\n                cancelButton: 'btn btn-danger ml-1'\n            }\n        }).then((result) => {\n            if (result.isConfirmed) {\n                this.deleteVehicule(id);\n            } else if (result.dismiss === Swal.DismissReason.cancel) {\n                Swal.fire({\n                    title: 'Non annulé',\n                    text: 'Votre véhicule est en sécurité :)',\n                    icon: 'error',\n                    customClass: {\n                        confirmButton: 'btn btn-success'\n                    }\n                });\n            }\n        });\n    }\n    \n    deleteVehicule(id: number): void {\n        this.vehiculeGpsLocationService.deleteVehicule(id).subscribe({\n            next: (response) => {\n                // Rafraîchir la liste des véhicules ici si nécessaire\n                Swal.fire({\n                    title: 'Supprimé !',\n                    text: 'Le véhicule a été supprimé.',\n                    icon: 'success',\n                    customClass: {\n                        confirmButton: 'btn btn-success'\n                    }\n                });\n            },\n            error: (error) => {\n                Swal.fire({\n                    title: 'Erreur !',\n                    text: `Une erreur est survenue lors de la suppression du véhicule : ${error.status} - ${error.message || 'Erreur inconnue'}`,\n                    icon: 'error',\n                    customClass: {\n                        confirmButton: 'btn btn-danger'\n                    }\n                });\n                console.error('Erreur de suppression :', error); // Détails de l'erreur pour le débogage\n            }\n        });\n    }\n    \n}\n","<div class=\"content-wrapper\">\n    <div class=\"content-body\">\n        <div class=\"card\">\n        <!-- Vehicle List -->\n        <section class=\"vehicles-list-wrapper\">\n            <div class=\"col-12\">\n                <h4 class=\"mb-3\">\n                    <span class=\"align-middle\"></span>\n                </h4>\n            </div>\n            <div class=\"col-12\">\n                <h4 class=\"mb-3\">\n                    <i data-feather=\"truck\" size=\"24\" class=\"mr-75 font-medium-4\"></i>\n                    <span class=\"align-middle\"> List Vehicules</span>\n                </h4>\n            </div>\n                <div class=\"col-12\">\n                    <h4 class=\"mb-3\">\n                        <span class=\"align-middle\"> </span>\n                    </h4>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-12 mb-50\">\n                        <button class=\"btn btn-primary ml-1\"  (click)=\"addNewVehicule()\" rippleEffect>\n                            <i data-feather=\"plus\" class=\"mr-0 mr-sm-1\"></i>\n                            <span class=\"d-none d-sm-inline-block\">Charger Vehicules</span>\n                        </button>\n                    </div>\n                    <div class=\"col-md-6 col-12\">\n                        <div class=\"d-flex justify-content-between align-items-center m-1\">\n                            <label class=\"d-flex align-items-center\">\n                                Voir\n                                <select class=\"form-control mx-25\" [(ngModel)]=\"selectedOption\">\n                                    <option value=\"15\">15</option>\n                                    <option value=\"30\">30</option>\n                                    <option value=\"50\">50</option>\n                                    <option value=\"100\">100</option>\n                                </select>\n                                element\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-md-6 col-12 d-flex justify-content-start justify-content-md-end\">\n                        <div class=\"d-flex align-items-center justify-content-end pr-1 pb-1 pb-md-0\">\n                            <label class=\"d-flex align-items-center ml-1 ml-md-0\">\n                                Rechercher:<input [(ngModel)]=\"searchValue\" name=\"searchValue\" type=\"search\" class=\"form-control ml-25\"\n                                                  (keyup)=\"filterUpdate($event)\" (search)=\"filterUpdate($event)\"/>\n                            </label>\n\n                        </div>\n                    </div>\n                </div>\n\n                <ngx-datatable [rows]=\"rows\" [rowHeight]=\"50\" class=\"bootstrap core-bootstrap\" [limit]=\"selectedOption\"\n                               [columnMode]=\"ColumnMode.force\" [headerHeight]=\"50\" [footerHeight]=\"50\" [scrollbarH]=\"true\">\n                    <ngx-datatable-column name=\"Vehicule\" prop=\"name\" [width]=\"200\">\n                        <ng-template ngx-datatable-cell-template let-row=\"row\" let-name=\"value\">\n                            <div class=\"d-flex align-items-center\">\n                                <div class=\"cell-line-height\">\n                                    <a  (click)=\"toggleSidebar('new-affectation-sidebar', row)\" class=\"font-medium-1 d-block\">\n                                        <span class=\"font-weight-bold\">{{ name }}</span>\n                                    </a>\n                                </div>\n                            </div>\n                        </ng-template>\n                    </ngx-datatable-column>\n                    <ngx-datatable-column name=\"Code Vehicule\" prop=\"device\" [width]=\"150\"></ngx-datatable-column>\n                    <ngx-datatable-column name=\"Model\" prop=\"model\" [width]=\"150\"></ngx-datatable-column>\n                    <ngx-datatable-column name=\"Cout / Km\" prop=\"costPerKm\" [width]=\"150\">\n                        <ng-template ngx-datatable-cell-template let-row=\"row\" let-costPerKm=\"value\">\n                            {{ costPerKm | number: '1.2-2' }}\n                        </ng-template>\n                    </ngx-datatable-column>\n                    <ngx-datatable-column name=\"Chauffeur\" prop=\"chauffeur.name\" [width]=\"150\"></ngx-datatable-column>\n                    <ngx-datatable-column name=\"Actions\" [width]=\"40\" [sortable]=\"false\">\n                        <ng-template ngx-datatable-cell-template let-row=\"row\">\n                            <div ngbDropdown container=\"body\">\n                                <button ngbDropdownToggle type=\"button\" class=\"btn icon-btn btn-sm hide-arrow\" rippleEffect>\n                                    <span [data-feather]=\"'more-vertical'\" [class]=\"'cursor-pointer'\"></span>\n                                </button>\n                                <div ngbDropdownMenu>\n                                    <a (click)=\"toggleSidebar('new-affectation-sidebar', row)\" ngbDropdownItem>\n                                        <span data-feather=\"edit\" class=\"mr-50\"></span> Modifier\n                                    </a>\n                                    <a href=\"javascript:;\" ngbDropdownItem (click)=\"confirmDeleteVehicle(row.id); console.log(row)\">\n                                        <span data-feather=\"trash\" class=\"mr-50\"></span> Supprimer\n                                    </a>                                                               \n                                </div>\n                            </div>\n                        </ng-template>\n                    </ngx-datatable-column>\n                </ngx-datatable>\n        </section>\n        <!--/ Vehicle List -->\n    </div>\n\n    <!-- New Vehicle Sidebar -->\n    <core-sidebar class=\"modal modal-slide-in sidebar-todo-modal fade\" name=\"new-affectation-sidebar\"\n                  overlayClass=\"modal-backdrop\">\n        <!--- <app-new-vehicle-sidebar (vehicleAdded)=\"onVehicleAdded($event)\"></app-new-vehicle-sidebar>-->\n        <app-affectation-affaire-chauffeur [selectedVehicle]=\"selectedVehicle\">\n\n        </app-affectation-affaire-chauffeur>\n    </core-sidebar>\n    <!--/ New Vehicle Sidebar -->\n</div>\n","import { RouterModule, Routes } from \"@angular/router\";\nimport { VehiculeListComponent } from \"./vehicule-list/vehicule-list.component\";\nimport { AffectationAffaireChauffeurComponent } from \"./affectation-affaire-chauffeur/affectation-affaire-chauffeur.component\";\nimport { CommonModule } from \"@angular/common\";\nimport { NgxDatatableModule } from \"@swimlane/ngx-datatable\";\nimport { FormsModule } from \"@angular/forms\";\nimport { CoreSidebarModule } from \"@core/components\";\nimport { CoreCommonModule } from \"@core/common.module\";\nimport { NgbDropdownModule } from \"@ng-bootstrap/ng-bootstrap\";\nimport { NgSelectModule } from \"@ng-select/ng-select\";\nimport { NgModule } from \"@angular/core\";\n\n\n\nconst routes: Routes = [\n    {\n        path: 'vehicule-list',\n        component: VehiculeListComponent,\n    },\n    {\n        path: 'affectation',\n        component: AffectationAffaireChauffeurComponent,\n    },\n];\n\n\n@NgModule({\n  declarations: [\n    VehiculeListComponent,\n    AffectationAffaireChauffeurComponent\n  ],\n    imports: [\n        CommonModule,\n        NgxDatatableModule,\n        RouterModule.forChild(routes),\n        FormsModule,\n        CoreSidebarModule,\n        CoreCommonModule,\n        NgbDropdownModule,\n        NgSelectModule\n    ]\n})\nexport class VehiculeModule { }\n"],"sourceRoot":"webpack:///"}