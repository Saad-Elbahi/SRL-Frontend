{"version":3,"sources":["./src/app/main/projets/logistique/EngingMouvement/engin/engin-gps-location.service.ts","./src/app/main/projets/logistique/EngingMouvement/engin/engin-list/engin-list.component.ts","./src/app/main/projets/logistique/EngingMouvement/engin/engin.module.ts"],"names":[],"mappings":"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","file":"src_app_main_projets_logistique_EngingMouvement_engin_engin_module_ts.js","sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { SrManagerService } from \"app/main/projets/sr-manager.service\";\nimport { environment } from \"environments/environment\";\nimport { BehaviorSubject } from \"rxjs\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class EnginGpsLocationService {\n  public onEnginListChanged: BehaviorSubject<any>;\n  constructor(private srManagerService: SrManagerService) {\n    // @ts-ignore\n    this.onEnginListChanged = new BehaviorSubject<any>();\n  }\n\n  getAllEnginGps(): Promise<any[]> {\n    return new Promise((resolve, reject) => {\n      let url = environment.EnginGpsapi + \"/getAllEnginGps\";\n      this.srManagerService.getResources(url).subscribe((response: any[]) => {\n        this.onEnginListChanged.next(response);\n        resolve(response);\n      }, reject);\n    });\n  }\n  \n  saveEnginFromApi(): Promise<any[]> {\n    return new Promise((resolve, reject) => {\n      let url = environment.vhgpsapi + \"/saveLocations\";\n      this.srManagerService.getResources(url).subscribe((response: any[]) => {\n        this.onEnginListChanged.next(response);\n        resolve(response);\n      }, reject);\n    });\n  }\n}\n","import { EnginGpsLocationService } from \"../engin-gps-location.service\";\nimport { ColumnMode, DatatableComponent } from \"@swimlane/ngx-datatable\";\nimport { Component, OnInit, ViewChild, ViewEncapsulation } from \"@angular/core\";\nimport { EnginGpsLocation } from \"../../Models/EnginGpsLocation\";\nimport { Subject } from \"rxjs\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { ToastrService } from \"ngx-toastr\";\n\n@Component({\n  selector: \"app-engin-list\",\n  templateUrl: \"./engin-list.component.html\",\n  styleUrls: [\"./engin-list.component.scss\"],\n  encapsulation: ViewEncapsulation.None\n})\nexport class EnginListComponent implements OnInit {\n  @ViewChild(DatatableComponent) table: DatatableComponent;\n\n  public rows: EnginGpsLocation[] = [];\n  selectedOption: number = 15;\n  public ColumnMode = ColumnMode;\n  selectedVehicle: any;\n  public tempData: EnginGpsLocation[] = [];\n  public searchValue = '';\n\n  constructor(\n    private _unsubscribeAll: Subject<any>,\n    private enginGpsLocationService: EnginGpsLocationService,\n    private toastr: ToastrService,\n\n  ) {}\n\n  ngOnInit(): void {\n    this.loadEngin();\n  }\n  loadEngin(): void {\n    this.enginGpsLocationService.onEnginListChanged\n      .pipe(takeUntil(this._unsubscribeAll))\n      .subscribe(\n        (rep) => {\n          if (rep && rep.length > 0) {\n            this.rows = rep;\n            this.tempData = this.rows;\n          }\n        },\n        (error) => {\n          console.error(\"Error fetching vehicles:\", error);\n        }\n      );\n\n    this.enginGpsLocationService.getAllEnginGps();\n  }\n  ChargerEngin(): void {\n    this.enginGpsLocationService.saveEnginFromApi().then(() => {\n      this.toastr.success(\"Vehicule added successfully!\");\n      console.log(\"vehicule added \");\n    });\n  }\n  filterUpdate(event): void {\n    const val = event.target.value.toLowerCase();\n    const temp = this.tempData.filter(function (d) {\n        return d.name.toLowerCase().indexOf(val) !== -1 || !val;\n    });\n    this.rows = temp;\n    this.table.offset = 0;\n}\n}\n","import { NgModule} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { NgbDropdownModule } from '@ng-bootstrap/ng-bootstrap';\nimport { CoreCommonModule } from '@core/common.module';\nimport { CoreSidebarModule } from '@core/components';\nimport { FormsModule } from '@angular/forms';\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\nimport { EnginListComponent } from './engin-list/engin-list.component';\n\n\nconst routes: Routes = [\n  {\n      path: 'engin-list',\n      component: EnginListComponent,\n  }\n];\n\n@NgModule({\n  declarations: [\n    EnginListComponent\n  ],\n  imports: [\n    CommonModule,\n    NgxDatatableModule,\n    RouterModule.forChild(routes),\n    FormsModule,\n    CoreSidebarModule,\n    CoreCommonModule,\n    NgbDropdownModule,\n    NgSelectModule\n  ]\n})\nexport class EnginModule { }\n"],"sourceRoot":"webpack:///"}